---
title: ScriptProcessorNode
slug: Web/API/ScriptProcessorNode
translation_of: Web/API/ScriptProcessorNode
---
<p>{{APIRef("Web Audio API")}}</p>

<div class="note">
<p><strong>注意：</strong>这个特性在2014年8月29日发布的Web Audio API规范中已经标记为不推荐，将很快会被<a href="/en-US/docs/Web/API/Web_Audio_API#Audio_Workers">Audio Workers</a>代替.</p>
</div>

<div>
<p><code>ScriptProcessorNode</code> 接口允许使用JavaScript生成、处理、分析音频. 它是一个 {{domxref("AudioNode")}}， 连接着两个缓冲区音频处理模块, 其中一个缓冲区包含输入音频数据，另外一个包含处理后的输出音频数据. 实现了 {{domxref("AudioProcessingEvent")}} 接口的一个事件，每当输入缓冲区有新的数据时，事件将被发送到该对象，并且事件将在数据填充到输出缓冲区后结束.</p>
</div>

<p><img alt="The ScriptProcessorNode stores the input in a buffer, send the audioprocess event. The EventHandler takes the input buffer and fill the output buffer which is sent to the output by the ScriptProcessorNode." src="https://mdn.mozillademos.org/files/5157/WebAudioScriptProcessingNode.png" style="display: block; height: 174px; margin: 0px auto; width: 306px;"></p>

<p>输入和输出缓冲区大小在创建时定义, 当 {{domxref("AudioContext.createScriptProcessor()")}} 方法被调用时 (都是由 {{domxref("AudioContext.createScriptProcessor()")}}的 <code>bufferSize</code> 参数定义). 缓冲区大小必须是在 <code>256</code> 到 <code>16384</code> 之间的 2 的次幂, 为 <code>256</code>, <code>512</code>, <code>1024</code>, <code>2048</code>, <code>4096</code>, <code>8192</code> 或者 <code>16384</code>. Small numbers lower the <em>latency</em>, but large number may be necessary to avoid audio breakup and glitches.</p>

<p>If the buffer size is not defined, which is recommended, the browser will pick one that its heuristic deems appropriate.</p>

<table class="properties">
 <tbody>
  <tr>
   <th scope="row">Number of inputs</th>
   <td><code>1</code></td>
  </tr>
  <tr>
   <th scope="row">Number of outputs</th>
   <td><code>1</code></td>
  </tr>
  <tr>
   <th scope="row">Channel count mode</th>
   <td><code>"max"</code></td>
  </tr>
  <tr>
   <th scope="row">Channel count</th>
   <td><code>2</code> (not used in the default count mode)</td>
  </tr>
  <tr>
   <th scope="row">Channel interpretation</th>
   <td><code>"speakers"</code></td>
  </tr>
 </tbody>
</table>

<h2 id="属性">属性</h2>

<p><em>从上一级继承属性, </em><em>{{domxref("AudioNode")}}</em>.</p>

<dl>
 <dt>{{domxref("ScriptProcessorNode.bufferSize")}} {{readonlyInline}}</dt>
 <dd>返回一个表示输入和输出缓冲区大小的整数. 它的值可以是在<code>256</code>–<code>16384</code> 之间的 2 的次幂.</dd>
</dl>

<h3 id="事件句柄">事件句柄</h3>

<dl>
 <dt>{{domxref("ScriptProcessorNode.onaudioprocess")}}</dt>
 <dd>Represents the {{event("Event_handlers", "event handler")}} to be called.</dd>
</dl>

<h2 id="方法">方法</h2>

<p><em>No specific methods; inherits methods from its parent, </em><em>{{domxref("AudioNode")}}</em>.</p>

<h2 id="示例">示例</h2>

<p>{{page("/en-US/docs/Web/API/AudioContext.createScriptProcessor","Example")}}</p>

<h2 id="Specifications">Specifications</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td>{{SpecName('Web Audio API', '#the-scriptprocessornode-interface---deprecated', 'ScriptProcessorNode')}}</td>
   <td>{{Spec2('Web Audio API')}}</td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

{{Compat("api.ScriptProcessorNode")}}

<h2 id="See_also">See also</h2>

<ul>
 <li><a href="/en-US/docs/Web/API/Web_Audio_API/Using_Web_Audio_API">Using the Web Audio API</a></li>
</ul>
