---
title: MediaStreamAudioSourceNode.MediaStreamAudioSourceNode()
slug: Web/API/MediaStreamAudioSourceNode/MediaStreamAudioSourceNode
tags:
  - MediaStreamAudioSourceNode
  - Web Audio API
translation_of: Web/API/MediaStreamAudioSourceNode/MediaStreamAudioSourceNode
---
<p>{{APIRef("Web Audio API")}}</p>

<p><code><strong>MediaStreamAudioSourceNode()</strong></code>构造器创建一个新的 {{domxref("MediaStreamAudioSourceNode")}}对象实例。</p>

<h2 id="语法">语法</h2>

<pre class="brush: js">var myAudioSource = new MediaStreamAudioSourceNode(<em>context</em>, <em>options</em>);</pre>

<h3 id="参数">参数</h3>

<dl>
 <dt><em>context</em></dt>
 <dd>一个用来使用node的音频环境{{domxref("AudioContext")}}。</dd>
 <dt><em>options</em></dt>
 <dd><code>MediaStreamAudioSourceOptions</code>，一个map对象，定义<code>MediaStreamAudioSourceNode</code>的属性:
 <ul>
  <li><code>mediaStream</code>: 需要使用的音频流</li>
 </ul>
 </dd>
</dl>

<h2 id="示例">示例</h2>

<pre class="brush: js">// define variables
var audioCtx = new (window.AudioContext || window.webkitAudioContext)();

// getUserMedia block - grab stream 获取音频流
// put it into a  把音频流放入 MediaStreamAudioSourceNode
if (navigator.mediaDevices.getUserMedia) {
   console.log('new getUserMedia supported.');
   navigator.mediaDevices.getUserMedia (
      // constraints: audio and video for this app
      {
         audio: true,
         video: false
     }).then(function(stream) {

       // Create a MediaStreamAudioSourceNode
       var options = {
         mediaStream : stream
       }

       var source = new MediaStreamAudioSourceNode(audioCtx, options);
        source.connect(audioCtx.destination);
        }).catch(function(err) {
         console.log('The following gUM error occured: ' + err);
      });
} else {
   console.log('new getUserMedia not supported on your browser!');
}</pre>

<h2 id="规范">规范</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td>{{SpecName('Web Audio API','#idl-def-MediaStreamAudioSourceNode','MediaStreamAudioSourceNode')}}</td>
   <td>{{Spec2('Web Audio API')}}</td>
   <td> </td>
  </tr>
 </tbody>
</table>

<h2 id="兼容性">兼容性</h2>

{{Compat("api.MediaStreamAudioSourceNode.MediaStreamAudioSourceNode")}}
