---
title: CacheStorage.has()
slug: Web/API/CacheStorage/has
translation_of: Web/API/CacheStorage/has
---
<p>{{APIRef("Service Workers API")}}{{SeeCompatTable}}</p>

<p>{{domxref("CacheStorage")}} 对象的 <strong><code>has()</code></strong>方法返回一个 {{jsxref("Promise")}} 对象，当 {{domxref("Cache")}} 对象有 <code>cacheName</code>  时被处理为  <code>true</code> 。</p>

<h2 id="语法">语法</h2>

<pre class="syntaxbox">caches.has(<em>cacheName</em>).then(function(<em>boolean</em>) {
  // true: 缓存存在
});
</pre>

<h3 id="返回值">返回值</h3>

<p>返回一个 {{jsxref("Promise")}} 对象，缓存存在时resolve的布尔值为 <code>true</code> 否则为 <code>false</code> 。</p>

<h3 id="参数">参数</h3>

<dl>
 <dt>cacheName</dt>
 <dd>一个表示你正在 {{domxref("CacheStorage")}} 中查找的 {{domxref("Cache")}} 对象name的 {{domxref("DOMString")}}.</dd>
</dl>

<h2 id="例子" style="line-height: 30px; font-size: 2.14285714285714rem;">例子</h2>

<p>在下面的例子中首先检测是否有名为 v1 的缓存存在， 如果存在我们会向其添加内容,，如果不存在我们会做些对应的初始化动作。</p>

<pre class="brush: js">caches.has('v1').then(function(hasCache) {
  if (!hasCache) {
    someCacheSetupfunction();
  } else {
    caches.open('v1').then(function(cache) {
      return cache.addAll(myAssets);
    });
  }
}).catch(function() {
  // 处理异常
});</pre>

<h2 id="规范">规范</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">规范</th>
   <th scope="col">状态</th>
   <th scope="col">附加信息</th>
  </tr>
  <tr>
   <td>{{SpecName('Service Workers', '#cache-storage', 'CacheStorage')}}</td>
   <td>{{Spec2('Service Workers')}}</td>
   <td>初始定义</td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

{{Compat("api.CacheStorage.has")}}

<h2 id="参考">参考</h2>

<ul>
 <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker_API/Using_Service_Workers">Using Service Workers</a></li>
 <li>{{domxref("Cache")}}</li>
 <li>{{domxref("WorkerGlobalScope.caches")}}</li>
</ul>
