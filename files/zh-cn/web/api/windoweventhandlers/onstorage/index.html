---
title: WindowEventHandlers.onstorage
slug: Web/API/WindowEventHandlers/onstorage
tags:
  - API
  - Web Storage
  - WindowEventHandlers
  - 属性
translation_of: Web/API/WindowEventHandlers/onstorage
---
<div class="syntaxbox">{{ ApiRef() }}</div>

<p><strong><code>WindowEventHandlers.onstorage</code></strong> 属性包含一个在{{event("storage")}}事件触发时的事件句柄。 </p>

<p>注意：该事件不在导致数据变化的当前页面触发（如果浏览器同时打开一个域名下面的多个页面，当其中的一个页面改变 <code>sessionStorage</code> 或 <code>localStorage</code> 的数据时，其他所有页面的  <code>storage</code>  事件会被触发，而原始页面并不触发 <code>storage</code> 事件）</p>

<h2 id="Syntax" name="Syntax">语法</h2>

<pre class="syntaxbox"><em>windowObj</em>.onstorage = function() { ... };</pre>

<h2 id="Specification" name="Specification">用例</h2>

<pre class="brush: js">window.onstorage = function(e) {
  console.log( e.key + ' 键已经从 ' + e.oldValue + ' 改变为 ' + e.newValue + '.');
};</pre>

<h2 id="说明书">说明书</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td>{{SpecName('HTML WHATWG','webappapis.html#handler-window-onstorage','onstorage')}}</td>
   <td>{{Spec2('HTML WHATWG')}}</td>
   <td></td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

{{Compat("api.WindowEventHandlers.onstorage")}}
