---
title: MessageEvent.MessageEvent()
slug: Web/API/MessageEvent/MessageEvent
translation_of: Web/API/MessageEvent/MessageEvent
---
<div>{{APIRef("HTML DOM")}}{{draft}}</div>

<p><code><strong>MessageEvent()</strong></code>构造函数创建一个新的 {{domxref("MessageEvent")}} 对象实例。</p>

<h2 id="语法">语法</h2>

<pre class="brush: js">var messageEvent = new MessageEvent(<em>type, init</em>);</pre>

<h3 id="参数">参数</h3>

<dl>
 <dt><font face="consolas, Liberation Mono, courier, monospace"><span style="background-color: rgba(220, 220, 220, 0.5);">type</span></font></dt>
 <dd>要创建的<code>MessageEvent</code>的类型。这可能是XXX中的一个</dd>
 <dt>
 <p><strong><code>init</code> </strong>{{optional_inline}}</p>
 </dt>
 <dd>
 <p>可以包含以下属性的dictionary对象：</p>

 <ul>
  <li><code>data</code>: 您希望包含在MessageEvent中的数据。这可以是任何数据类型，如果没有指定，则默认为null。</li>
  <li><code>origin</code>: {{domxref("USVString")}} 表示消息发送源。如果没有指定，则默认为空字符串("")。</li>
  <li><code>lastEventId</code>: {{domxref("DOMString")}} 表示事件的唯一ID。如果没有指定，则默认为空字符串("")。</li>
  <li><code>source</code>: <code>MessageEventSource</code> (可以是 {{domxref("WindowProxy")}}, {{domxref("MessagePort")}}, 或 {{domxref("ServiceWorker")}} 对象) 表示消息发送对象。如果没有设置，则默认为null。</li>
  <li><code>ports</code>:  {{domxref("MessagePort")}} 对象数组，表示正在通过的消息通道关联的端口(在适当的情况下，例如在通道消息传递或向共享工作者发送消息时)。如果没有指定，则默认为空数组([])。</li>
 </ul>
 </dd>
</dl>

<h2 id="示例">示例</h2>

<pre class="brush: js">var myMessage = new MessageEvent('worker', {
  data : 'hello'
});
</pre>

<h2 id="规范">规范</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">规范</th>
   <th scope="col">状态</th>
   <th scope="col">注释</th>
  </tr>
  <tr>
   <td>{{SpecName("HTML DOM", "#messageevent", "MessageEvent")}}</td>
   <td>{{Spec2("HTML DOM")}}</td>
   <td>Initial definition</td>
  </tr>
 </tbody>
</table>

<h2 id="浏览器兼容性">浏览器兼容性</h2>

{{Compat("api.MessageEvent.MessageEvent")}}

<h2 id="另见">另见</h2>

<ul>
 <li>{{domxref("ExtendableMessageEvent")}} — 类似于此接口，但用于需要为作者提供更多灵活性的接口。</li>
</ul>
